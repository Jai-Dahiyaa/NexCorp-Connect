generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "postgresql"
}

model User {
  id        int      @id @default(autoincrement())
  email     string   @unique @db.VarChar(50)
  password  string   @db.VarChar(100)
  role      string   @db.VarChar(50)
  status    Boolean  @default(false)
  created_at DateTime @default(now())

  social_login Social_login[]
  profiles Profiles[]

  @@map("users")
}

model Social_login {
  id        int      @id @default(autoincrement())
  user_id   int
  platform_name string? @db.VarChar(100) @default(null)
  platform_user_id string? @db.VarChar(100) @default(null)
  created_at DateTime @default(now())

  user User @relation(fields: [user_id], references: [id])

  @@map("social_login")
}

model Profiles {
  id         int      @id @default(autoincrement())
  user_id    int
  full_name  string   @db.VarChar(100)
  avatar_url string?   @db.Text
  bio        string?   @db.Text
  phone      string?   @db.VarChar(20)
  manual_name_set    Boolean   @default(false)
  manual_image_set    Boolean   @default(false)
  updated_at DateTime @default(now())
  status     string   @db.VarChar(20) @default('active')
  profile_source   string   @db.VarChar(20) @default('direct_signup')
  gender   db.VarChar(20) 
  dob    DateTime?
  created_at DateTime @default(now())

  user User @relation(fields: [user_id], references: [id])

  @@map("profiles")
}